/* src/styles/learn.css
   Normal (adult) styles first; Kid overrides at the bottom. */

/* ============== Learn (Adult / Base) ============== */
.learn-page {
  width: min(100%, 1200px);           /* was max-width: 430px */
  margin: 0 auto;
  min-height: 100dvh;
  padding-bottom: calc(80px + env(safe-area-inset-bottom));
  font-family: "Outfit", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  background: var(--app-bg, #F3F6FF);
  color: var(--ink, #0F172A);
}

/* top bar */
.learn-top {
  position: sticky; top: 0; z-index: 2;
  background: var(--surface, #fff);
  border-bottom: 1px solid var(--line, #E6E8F3);
  display: flex; align-items: center; justify-content: space-between;
  padding: 12px 16px;
}
.brand { display:flex; align-items:center; gap:8px; font-weight:800; font-size:18px; }
.brand-logo { width:20px; height:20px; opacity:.9 }
.brand-name { letter-spacing:.2px; }
.profile-btn { all:unset; cursor:pointer; color:var(--ink, #0F172A); padding:6px; border-radius:8px; }
.profile-btn:active { transform: scale(.97); }

/* content area (adult has a soft gradient) */
.learn-main {
  padding: clamp(12px, 2.2vw, 24px);
  background: linear-gradient(
    180deg,
    rgba(85,96,255,0.04) 0%,
    rgba(85,96,255,0.02) 28%,
    transparent 70%
  );
  border-radius: 0 0 16px 16px;
}

.learn-title { margin: 6px 0 2px; font-size: clamp(20px, 2.6vw, 24px); font-weight: 800; }
.learn-sub   { margin: 0 0 14px; color: var(--muted, #6B7280); font-size: 14px; }

/* grid of categories */
.cat-grid {
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));  /* phones default */
  gap: 14px;
  max-width: 100%;
}

/* cards */
.cat-card {
  display:flex; flex-direction:column; align-items:center; justify-content:center; gap:10px;
  min-height: clamp(108px, 16vw, 132px);
  border-radius:16px; border:1px solid var(--line, #E6E8F3);
  background:#f6f7ff; text-align:center; box-shadow:var(--shadow-sm, 0 6px 18px rgba(20,30,80,.07));
  transition: transform .08s ease;
}
.cat-card:active { transform:scale(.98); }
.icon-bubble {
  width: clamp(50px, 7vw, 60px); height: clamp(50px, 7vw, 60px);
  border-radius:14px; display:grid; place-items:center; font-size: clamp(26px, 3vw, 30px);
  background:rgba(255,255,255,.7); border:1px solid rgba(0,0,0,.06); box-shadow:0 1px 1px rgba(0,0,0,.03) inset;
}
.cat-label { font-weight:700; font-size:15px; color:var(--ink, #0F172A); }

/* pastel tones */
.tone-red   { background:#ffe1e1; }
.tone-yellow { background:#FFF2D8; }
.tone-pink   { background:#F8E9F5; }
.tone-cream  { background:#F9F3E9; }
.tone-salmon { background:#FDE7E5; }
.tone-mint   { background:#E7F4F1; }

/* continue learning */
.continue { margin-top:22px; }
.section-title { margin:0 0 10px; font-size:18px; font-weight:800; }

.cont-card {
  display:flex; gap:12px; align-items:center;
  padding:12px; background:var(--surface, #fff);
  border:1px solid var(--line, #E6E8F3); border-radius:16px; box-shadow:var(--shadow-sm, 0 6px 18px rgba(20,30,80,.07));
  margin-bottom:12px;
}
.cont-icon {
  width:44px; height:44px; border-radius:12px; display:grid; place-items:center;
  background:#EEF1FF; border:1px solid #E0E5FF; font-size:24px;
}

.cont-body { flex:1; min-width:0; }
.cont-title { font-weight:800; font-size:15px; margin-bottom:2px; }
.cont-sub { color:var(--muted, #6B7280); font-size:12px; margin-bottom:8px; }
.cont-progress { height:8px; background:#EEF2FF; border:1px solid #E0E5FF; border-radius:999px; overflow:hidden; }
.cont-bar { height:100%; background:var(--primary, #5560FF); border-radius:999px; width:0; transition:width .25s; }

.cont-open {
  display:inline-flex; align-items:center; justify-content:center;
  min-width:64px; padding:8px 10px; border-radius:12px;
  background:#dfe5ff; color:#3b49df; font-weight:700; font-size:13px;
  border:1px solid #c9d1ff;
}
.cont-open:active { transform:scale(.98); }

/* small phones */
@media (max-width:380px){
  .learn-title { font-size:21px; }
  .icon-bubble { font-size:26px; }
  .cat-card { min-height:108px; }
}

/* ---------- Responsive grid upgrades ---------- */
@media (min-width: 768px){        /* tablets */
  .cat-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .learn-title { text-align: left; }
}

@media (min-width: 1200px){       /* large desktop */
  .cat-grid { grid-template-columns: repeat(4, minmax(0, 1fr)); }
}

/* ============== KID OVERRIDES (wallpaper + purple bars) ============== */
:root{
  --kidPurple:#7C4DFF;
  --kidPurple-ink:#FFFFFF;
  --kidPurple-shadow:0 6px 18px rgba(58,24,148,.22);
}

/* Let the wallpaper show through */
body.kid .learn-page{
  background: transparent !important;
}
body.kid .learn-main{
  background: transparent !important;
  border-radius: 0 !important;
}

/* Top bar matches the bottom tabbar (purple, same height) */
body.kid .learn-top{
  background: var(--kidPurple) !important;
  color: var(--kidPurple-ink) !important;
  border-bottom: none !important;
  height: 56px;
  box-shadow: var(--kidPurple-shadow);
}
body.kid .learn-top .brand-name{ color:#fff; }
body.kid .learn-top .brand-logo{ filter:brightness(200%) saturate(0); }
body.kid .learn-top .profile-btn{
  color:#fff; background:rgba(255,255,255,.18);
  border:1px solid rgba(255,255,255,.28);
  padding:6px 10px; border-radius:12px;
}

/* Cards stay readable on wallpaper */
body.kid .cat-card,
body.kid .cont-card{ background:#ffffff !important; }
